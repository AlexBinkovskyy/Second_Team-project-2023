{"version":3,"file":"main-8638164f.js","sources":["../../src/js/references.js","../../src/js/query.js","../../src/js/popular-product.js","../../src/images/icons/discount.svg","../../src/images/icons/shopping-cart.svg","../../src/js/discount.js","../../src/js/product-list.js","../../src/js/localStorage.js","../../src/js/filter.js","../../src/js/footer.js","../../src/js/main.js"],"sourcesContent":["const MAIN_URL = 'https://food-boutique.b.goit.study/api/products/';\nconst categories = 'categories';\nconst popular = 'popular';\nconst discount = 'discount';\n\nexport default {\n  MAIN_URL,\n  categories,\n  popular,\n  discount,\n};\n","import axios from 'axios';\nimport references from './references';\n\n// AxiosQuery\nconst params = {};\n\nlet page = 1;\nlet limitPerPage = 6;\nlet Id = null;\n\nexport async function getProdByParams() {\n  if (window.innerWidth >= 1440) {\n    limitPerPage = 9;\n  } else if (window.innerWidth >= 768) {\n    limitPerPage = 8;\n  } else {\n    limitPerPage = 6;\n  }\n  return await axios(\n    `${references.MAIN_URL}?page=${page}&limit=${limitPerPage}`\n  );\n}\n\nexport async function getProdByPopular() {\n\n  return await axios(\n    `${references.MAIN_URL}/${references.popular}?limit=5`\n  );\n\n}\n\nexport async function getProdByDiscount() {\n  return await axios(`${references.MAIN_URL}/${references.discount}`);\n}\n\nexport async function getProdByID() {\n  return await axios(`${references.MAIN_URL}/${Id}`);\n}\n\n\nexport async function getProdByCategories() {\n  return (await axios(`${references.MAIN_URL}/${references.categories}`));\n}\n\nexport async function getProdByQuery(keyword, category, page=1, limit=6) {\n  return (await axios(`${references.MAIN_URL}?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`));\n}\n\n","\n\nconst popularProduct = document.querySelector('.popular-product-list');\n\nexport function renderPopularProduct(data) {\n  popularProduct.insertAdjacentHTML('beforeend', markup(data));\n}\n\nfunction markup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, size, popularity }) => `\n          <li class=\"popular-product-item\" id=\"${_id}\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"popular-product-pic\" />\n            <div class=\"popular-product-info\">\n            <h3 class=\"popular-product-name\">${name}</h3>\n              <div class=\"info-item-description\">\n              <p class=\"info-item\">\n              <span class=\"info-title\"> Category: </span>\n              ${category.replace('_', ' ')}\n            </p>\n            <p class=\"info-item\">\n              <span class=\"info-title\"> Size: </span>\n              ${size}\n            </p>\n            <p class=\"info-item-pop\">\n              <span class=\"info-title\"> Popularity: </span>\n              ${popularity}\n            </p>\n            </div>\n            </div>\n            <button type=\"button\" class=\"buy-btn\" onclick=\"addToCart('${_id}')\"><svg class=\"koshik\" width=\"12\" height=\"12\">\n            <use href=\"./images/sprite.svg#icon-shopping-cart\"></use>\n          </svg>\n            <button>\n          </li>\n      `\n    )\n    .join('');\n}\n\n// Зробити функцію глобальною\nwindow.addToCart = function(productId) {\n  const cart = JSON.parse(localStorage.getItem('cart')) || {};\n\n  if (cart[productId]) {\n    alert('This product is already in your cart!');\n  } else {\n    cart[productId] = true;\n    localStorage.setItem('cart', JSON.stringify(cart));\n    alert('Product added to cart!');\n\n    // Отримати кнопку за допомогою productId та змінити її на іконку \"✓\"\n    const addToCartButton = document.querySelector(`button[data-product-id=\"${productId}\"]`);\n    addToCartButton.innerHTML = '&#10003;';\n    addToCartButton.disabled = true;\n  }\n};","export default \"__VITE_ASSET__2f15711f__\"","export default \"__VITE_ASSET__7ed87d9d__\"","import axios from 'axios';\nimport references from './references';\nimport { getProdByDiscount } from './query';\nimport  discountSvg    from '../images/icons/discount.svg';\nimport  shoppingSvg   from '../images/icons/shopping-cart.svg';\n\n\nconst productDiscount = document.querySelector('.discount-products-item');\n\n\nexport function renderProductDiscount(data) {\n    productDiscount.insertAdjacentHTML(\"beforeend\", markup(data));  \n}\n\n function markup(arr) {\n    return arr\n    .map(({_id, name, img, price }) => `\n        <li class=\"discount-product\">\n         <div class=\"discount-card\" id=\"${_id}\">\n         <img class=\"discount-svg\" src=\"${discountSvg}\" alt=\"discount-icon\" width=\"60\" height=\"60\"/>\n            <img id=\"icondiscount\" class=\"discount-img\"src=\"${img}\" alt=\"${name}\" loading=\"lazy\">\n            <div class=\"discount-text\">\n            <div class=\"discount-text-item\">\n                <h3 class=\"discount-name\">${name}</h3>\n                </div>\n                <div class=discount-price-item>\n                <p class=\"discount-price\">&#36;${price}</p>\n                <button class=\"discount-buy buy-btn\" type=\"button\">\n                <img class=\"discount-buy-svg\" src=\"${shoppingSvg}\" alt=\"shop-icon\" width=\"18\" height=\"18\"/>\n  </svg>\n</button>\n</div> \n            </div>\n            </div>\n        </li>\n    `).join(\"\")\n}\n  \n\n\n            \n","import { getProdByParams } from './query';\n\nconst productList = document.querySelector('.product-list');\n\nexport function renderProductList(data) {\n  productList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, price, size, is10PercentOff, popularity }) =>\n        `\n        <div class=\"product-card\" id=\"${_id}\">\n         <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"product-pic\" />        \n         <h3 class=\"product-name header-three\">${name}</h3>\n         <div class=\"product-info regular-text\">\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Category: </span>\n            ${category.replace('_', ' ')}\n            </p>\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Size: </span>\n            ${size}\n            </p>\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Popularity: </span>\n            ${popularity}\n            </p>\n          </div>\n          <div class=\"purchaise-box\">\n            <h3 class=\"product-price header-three\">&#36;${price}</h3>\n            <button type=\"button\" class=\"buy-btn\">Buy</button>\n          </div>\n        </div>\n      `\n    )\n    .join('');\n}\n\n// const heightOutput = document.querySelector('#height');\n// const widthOutput = document.querySelector('#width');\n// function reportWindowSize() {\n//   heightOutput.textContent = window.innerHeight;\n//   widthOutput.textContent = window.innerWidth;\n// }\n// window.onresize = reportWindowSize;\n\n// if (window.innerWidth >= 1440) {\n//   console.log(1440);\n//   limitPerPage = 9;\n// } else if (window.innerWidth >= 768) {\n//   console.log(768);\n//   limitPerPage = 8;\n// } else {\n//   console.log(375);\n//   limitPerPage = 6;\n// }\n","let shoppingCartItems = {\n  \"email\": \"\",\n  \"products\": [\n    {\n      \"productId\": \"\",\n      \"amount\": 1\n    }\n  ]\n}\n\nexport function setDefaultFilterParams(){\n  const filterParams = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n  };\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n  return getFilterParams();\n}\n\nexport function setNewFilterParams(filterParams){\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n}\n\nif (!JSON.parse(localStorage.getItem('shoppingCartItems'))) {\n  localStorage.setItem('shoppingCartItems', JSON.stringify(shoppingCartItems));\n}\n\nexport function getCartItemsQuantity() {\n  return (JSON.parse(localStorage.getItem('shoppingCartItems')).length);\n}\n\nexport function getFilterParams(){\n  return JSON.parse(localStorage.getItem('filterParams'))\n}\n\n\n","import { getFilterParams } from './localStorage';\nimport { setDefaultFilterParams } from './localStorage';\nimport { setNewFilterParams } from './localStorage';\nimport { getProdByQuery } from './query';\nconst filterForm = document.querySelector('#filterForm');\nfilterForm.addEventListener('submit', onSubmit);\nconst filterSelectCategories = document.querySelector('#categories');\nconst optionSelect = document.querySelector('.js-option');\noptionSelect.addEventListener('change', onSubmit)\n\nlet filterParams = getFilterParams() ? getFilterParams()  : setDefaultFilterParams();\n\nexport function renderFilterSelect(data) {\n  filterSelectCategories.insertAdjacentHTML('afterbegin', markup(data));\n}\n\nfunction markup(arr) {\n  const selects = arr.map(\n    categorie => `\n    <option value=\"${categorie}\" class=\"js-option\">${categorie}</option>\n    `\n  );\n  selects.unshift('<option value=\"\" disabled selected>Categories</option>');\n  return selects.join('');\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const { filterInput, filterCategories, filterMethod } = event.target.elements;\n\n  proceedInput(filterInput);\n//   proceedSelectCategorie(filterCategories);\n}\n\nfunction proceedInput(filterInput) {\n    console.log(filterParams);\n  if (filterInput.value.trim()) {\n    filterParams.keyword = `${filterInput.value.trim()}`;\n    setNewFilterParams(filterParams);\n  } else {\n    // !!!!!!!!!!!!!!!!!!!!!!\n    setDefaultFilterParams();\n    // !!!!!!!!!!!!!!!!!!!!!!!\n  }\n}\n\nfunction proceedSelectCategorie(filterCategories) {\n  filterParams.category = `${filterCategories.value}`;\n  setNewFilterParams(filterParams);\n}\n\n// function onSelect(event) {\n\n//   console.log(event.target);\n// }\n","export function setupSubscriptionForm() {\n  const form = document.querySelector('.subscription-form');\n  const emailInput = document.querySelector('.footer-form-input');\n\n  form.addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    const email = emailInput.value;\n\n    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/;\n    if (!emailPattern.test(email)) {\n      alert('Будь ласка, введіть коректну адресу електронної пошти.');\n      return;\n    }\n\n    fetch(form.action, {\n      method: form.method,\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify({ email: email }),\n    })\n      .then(response => {\n        if (response.status === 201) {\n          return response.json();\n        } else if (response.status === 409) {\n          throw new Error('Підписка вже існує');\n        } else {\n          throw new Error('Щось пішло не так. Спробуйте пізніше.');\n        }\n      })\n      .then(data => {\n        alert(data.message);\n        emailInput.value = '';\n      })\n      .catch(error => {\n        alert(error.message);\n      });\n  });\n}\n","import { getProdByParams } from './query';\nimport { getProdByPopular } from './query';\nimport { getProdByDiscount } from './query';\nimport { getProdByID } from './query';\nimport { getProdByCategories } from './query';\nimport { renderPopularProduct } from './popular-product';\nimport { renderProductDiscount } from './discount';\nimport { renderProductList } from './product-list';\nimport { renderFilterSelect } from './filter';\nimport { setupSubscriptionForm } from './footer.js';\n\ngetProdByDiscount()\n  .then(({ data }) => {\n    renderProductDiscount(data);\n  })\n  .catch(error => console.log(error));\n\ngetProdByParams()\n  .then(({ data }) => {\n    renderProductList(data);\n  })\n  .catch(error => console.log(error));\n\ngetProdByPopular()\n  .then(({ data }) => {\n    renderPopularProduct(data);\n  })\n  .catch(error => console.log(error));\n\ngetProdByCategories()\n  .then(({ data }) => {\n    renderFilterSelect(data);\n  })\n  .catch(error => console.log(error));\n\nsetupSubscriptionForm();\n"],"names":["MAIN_URL","categories","popular","discount","references","page","limitPerPage","getProdByParams","axios","getProdByPopular","getProdByDiscount","getProdByCategories","popularProduct","renderPopularProduct","data","markup","arr","_id","name","img","category","size","popularity","productId","cart","addToCartButton","discountSvg","shoppingSvg","productDiscount","renderProductDiscount","price","productList","renderProductList","createMarkup","is10PercentOff","shoppingCartItems","setDefaultFilterParams","filterParams","getFilterParams","setNewFilterParams","filterForm","onSubmit","filterSelectCategories","optionSelect","renderFilterSelect","selects","categorie","event","filterInput","filterCategories","filterMethod","proceedInput","setupSubscriptionForm","form","emailInput","email","response","error"],"mappings":"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"}