import{a as l}from"./vendor-99d50140.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const o of e)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function s(e){const o={};return e.integrity&&(o.integrity=e.integrity),e.referrerpolicy&&(o.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?o.credentials="include":e.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(e){if(e.ep)return;e.ep=!0;const o=s(e);fetch(e.href,o)}})();const d="https://food-boutique.b.goit.study/api/products/",p="https://food-boutique.b.goit.study/api/subscription",g="categories",m="popular",y="discount",a={MAIN_URL:d,SECOND_URL:p,categories:g,popular:m,discount:y};let I=1,u=6;async function b(){return window.innerWidth>=1440?u=9:window.innerWidth>=768?u=8:u=6,await l(`${a.MAIN_URL}?page=${I}&limit=${u}`)}async function w(){return await l(`${a.MAIN_URL}/${a.popular}?limit=5`)}async function C(){return await l(`${a.MAIN_URL}/${a.discount}`)}async function O(t){return await l(`${a.MAIN_URL}/${t}`)}async function L(){return await l(`${a.MAIN_URL}/${a.categories}`)}async function J({keyword:t=null,category:r=null,byABC:s=null,byPrice:n=null,byPopularity:e=null,page:o=1,limitPerPage:c=6}){window.innerWidth>=1440?c=9:window.innerWidth>=768&&(c=8);let i="https://food-boutique.b.goit.study/api/products?";return t&&(i+=`keyword=${t}&`),r&&(i+=`category=${r}&`),s!==null&&(i+=`byABC=${s}&`),n!==null&&(i+=`byPrice=${n}&`),e!==null&&(i+=`byPopularity=${e}&`),i+=`page=${o}&limit=${c}`,console.log(i),await l(i)}const A="/Second_Team-project-2023/assets/sprite-67d7c706.svg";let h={email:"",products:[]};function M(){const t={keyword:null,category:null,byABC:!0,byPrice:null,byPopularity:null,page:1,limit:6};return localStorage.setItem("filterParams",JSON.stringify(t)),N()}function _(t){localStorage.setItem("filterParams",JSON.stringify(t))}JSON.parse(localStorage.getItem("shoppingCartItems"))||localStorage.setItem("shoppingCartItems",JSON.stringify(h));function S(){return JSON.parse(localStorage.getItem("shoppingCartItems")).products.length}function f(){return JSON.parse(localStorage.getItem("shoppingCartItems"))}function N(){return JSON.parse(localStorage.getItem("filterParams"))}const P=document.querySelector(".cart-number");P.insertAdjacentHTML("beforeend",S());function B(t,r=1){const s=f();s.products.find(({id:n})=>n===t)||(s.products.push({id:t,amount:r}),localStorage.setItem("shoppingCartItems",JSON.stringify(s)))}function R(t){const r=f(),s=r.products.findIndex(({id:n})=>n===t);s!==-1&&(r.products.splice(s,1),localStorage.setItem("shoppingCartItems",JSON.stringify(r)))}function U(){const t=f();t.products=[],localStorage.setItem("shoppingCartItems",JSON.stringify(t))}function q(t){const r=f();r.email=t,localStorage.setItem("shoppingCartItems",JSON.stringify(r))}export{U as a,O as b,A as c,b as d,M as e,_ as f,f as g,J as h,N as i,C as j,w as k,L as l,B as m,R as r,q as s};
//# sourceMappingURL=workWithCart-743a34c2.js.map
