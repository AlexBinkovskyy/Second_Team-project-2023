{"version":3,"file":"workWithCart-253776cd.js","sources":["../../src/js/references.js","../../src/js/query.js","../../src/images/sprite.svg","../../src/js/localStorage.js","../../src/js/workWithCart.js"],"sourcesContent":["const MAIN_URL = 'https://food-boutique.b.goit.study/api/products/';\nconst SECOND_URL = 'https://food-boutique.b.goit.study/api/subscription';\nconst categories = 'categories';\nconst popular = 'popular';\nconst discount = 'discount';\n\nexport default {\n  MAIN_URL,\n  SECOND_URL,\n  categories,\n  popular,\n  discount,\n};\n","import axios from 'axios';\nimport references from './references';\n\nlet page = 1;\nlet limitPerPage = 6;\n\nexport async function getProdByParams() {\n  if (window.innerWidth >= 1440) {\n    limitPerPage = 9;\n  } else if (window.innerWidth >= 768) {\n    limitPerPage = 8;\n  } else {\n    limitPerPage = 6;\n  }\n  return await axios(\n    `${references.MAIN_URL}?page=${page}&limit=${limitPerPage}`\n  );\n}\n\nexport async function getProdByPopular() {\n  return await axios(`${references.MAIN_URL}/${references.popular}?limit=5`);\n}\n\nexport async function getProdByDiscount() {\n  return await axios(`${references.MAIN_URL}/${references.discount}`);\n}\n\nexport async function getProdByID(id) {\n  return await axios(`${references.MAIN_URL}/${id}`);\n}\nexport async function getProdByIDWithParams(id) {\n  return await axios(`${references.MAIN_URL}/${id}`);\n}\n\nexport async function getProdByCategories() {\n  return await axios(`${references.MAIN_URL}/${references.categories}`);\n}\n\nexport async function getProdByQuery({\n  keyword = null,\n  category = null,\n  byABC = null,\n  byPrice = null,\n  byPopularity = null,\n  page = 1,\n  limitPerPage = 6,\n}) {\n  if (window.innerWidth >= 1440) {\n    limitPerPage = 9;\n  } else if (window.innerWidth >= 768) {\n    limitPerPage = 8;\n  } \n\n  let query = `https://food-boutique.b.goit.study/api/products?`;\n  if (keyword) {\n    query += `keyword=${keyword}&`;\n  }\n  if (category) {\n    query += `category=${category}&`;\n  }\n  if (byABC !== null) {\n    query +=`byABC=${byABC}&`;\n  }\n  if (byPrice !== null) {\n    query += `byPrice=${byPrice}&`;\n  }\n  if (byPopularity  !== null) {\n    query += `byPopularity=${byPopularity}&`;\n  }\n  query += `page=${page}&limit=${limitPerPage}`;\n  console.log(query);\n  return await axios(query);\n}\n\n// export async function sendSubscription(data) {\n//   return (await axios.post(`${references.SECOND_URL}`))\n// }\n\n// export async function sendSubscription(data) {\n//   return (await axios.post(`${references.SECOND_URL}`))\n// }\n\n// export async function postOrder(order) {\n//   console.log(\"--------------------\");\n//   console.log(order);\n//   console.log(JSON.stringify(order));\n//   return await axios.post(`https://food-boutique.b.goit.study/api/orders`, JSON.stringify(order), {\n//     headers: {\n//       'Content-Type': 'application/json'\n//     }\n//   });\n// }\n\n\n// postOrder(JSON.stringify({\n//   \"email\": \"test@gmail.com\",\n//   \"products\": [\n//     {\n//       \"productId\": \"640c2dd963a319ea671e383b\",\n//       \"amount\": 2\n//     }\n//   ]\n// }));\n","export default \"__VITE_ASSET__a9bd2a53__\"","let shoppingCartItems = {\n  email: '',\n  products: [],\n};\n\nexport function setDefaultFilterParams() {\n  const filterParams = {\n    keyword: null,\n    category: null,\n    byABC: true,\n    byPrice: null,\n    byPopularity: null,\n    page: 1,\n    limit: 6,\n  };\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n  return getFilterParams();\n}\n\nexport function setNewFilterParams(filterParams) {\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n}\n\nif (!JSON.parse(localStorage.getItem('shoppingCartItems'))) {\n  localStorage.setItem('shoppingCartItems', JSON.stringify(shoppingCartItems));\n}\n\nexport function getCartItemsQuantity() {\n  return JSON.parse(localStorage.getItem('shoppingCartItems')).products.length;\n}\n\nexport function setCartItems(ID, amount = 1) {\n  const cartItems = getCartItems();\n  if (!cartItems.products.find(({ id }) => ID !== id)) {\n    cartItems.products.push({ ID: ID, amount: amount });\n    localStorage.setItem('shoppingCartItems', JSON.stringify(cartItems));\n  }\n}\n\nexport function getCartItems() {\n  return JSON.parse(localStorage.getItem('shoppingCartItems'));\n}\n\nexport function getFilterParams() {\n  return JSON.parse(localStorage.getItem('filterParams'));\n}\n\nconst cartNumber = document.querySelector('.cart-number');\ncartNumber.insertAdjacentHTML('beforeend', getCartItemsQuantity());\n","import { getCartItems } from \"./localStorage\";\n\n/* \n–î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É –¥–æ –∫–æ—Ä–∑–∏–Ω–∫–∏ –ø–æ ID\n  –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:\n    idProduct - –Ü–¥ –ø—Ä–æ–¥—É–∫—Ç—É                     <---  ( !!! –û–±–æ–≤—è–∑–∫–æ–≤–æ !!! )\n    amount - –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ü—å–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç—É –≤ –∫–æ—à–∏–∫—É  <---  ( –ú–æ–∂–Ω–∞ –Ω–µ –≤–∫–∞–∑—É–≤–∞—Ç–∏ )\n  –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:\n    –ö–æ–ª–∏ —Å–ø—Ä–∞—Ü—å–æ–≤—É—î –æ–±—Ä–æ–±–Ω–∏–∫ –ø–æ–¥—ñ–π, –ø—Ä–∏ —è–∫–æ–º—É –≤–∏ –¥–æ–¥–∞—î—Ç–µ, —Ç–æ–≤–∞—Ä –¥–æ –∫–æ—à–∏–∫—É\n    –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é\n\n    addProductToCart( –Ü–¥ —Ç–æ–≤–∞—Ä—É —Ç—É—Ç–∞ üòä )\n==========================================================================*/\nexport function addProductToCart(idProduct, amount = 1) {\n  const cartItems = getCartItems();\n\n  if (!cartItems.products.find(({ id }) => id === idProduct)) {\n    cartItems.products.push({ \"id\": idProduct, \"amount\": amount });\n    localStorage.setItem('shoppingCartItems', JSON.stringify(cartItems));\n  }\n}\n\n\n/* \n–û–Ω–æ–≤–ª–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É –≤ –∫–æ—Ä–∑–∏–Ω—ñ –ø–æ ID\n==========================================================================*/\nexport function updateProductInCart(idProduct, amount) {\n  const cartItems = getCartItems();\n\n  const product = cartItems.products.find(({ id }) => id === idProduct);\n  if (product) {\n    product.amount = amount;\n    localStorage.setItem('shoppingCartItems', JSON.stringify(cartItems));\n  }\n}\n\n\n/* \n–í–∏–¥–∞–ª–µ–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—É –∑ –∫–æ—Ä–∑–∏–Ω–∫–∏ –ø–æ ID\n  –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:\n    idProduct - –Ü–¥ –ø—Ä–æ–¥—É–∫—Ç—É                     <---  ( !!! –û–±–æ–≤—è–∑–∫–æ–≤–æ !!! )\n  –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:\n    –ü–µ—Ä–µ–¥–∞—î—Ç–µ id –ø—Ä–æ–¥—É–∫—Ç—É –≤ —Ñ—É–Ω–∫—Ü—ñ—é, —â–æ–± –≤–∏–¥–∞–ª–∏—Ç–∏ —Ü–µ–π –ø—Ä–æ–¥—É–∫—Ç\n    \n    removeProductFromCart( –Ü–¥ —Ç–æ–≤–∞—Ä—É —Ç—É—Ç–∞ üòä )\n==========================================================================*/\nexport function removeProductFromCart(idProduct) {\n  const cartItems = getCartItems();\n\n  // –ó–Ω–∞–π—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç —É –∫–æ—à–∏–∫—É –∑–∞ –π–æ–≥–æ ID\n  const productIndex = cartItems.products.findIndex(({ id }) => id === idProduct);\n  \n  // –Ø–∫—â–æ –ø—Ä–æ–¥—É–∫—Ç –∑–Ω–∞–π–¥–µ–Ω–æ, –≤–∏–¥–∞–ª–∏—Ç–∏ –π–æ–≥–æ –∑ –∫–æ—à–∏–∫–∞\n  if (productIndex !== -1) {\n    cartItems.products.splice(productIndex, 1);\n    localStorage.setItem('shoppingCartItems', JSON.stringify(cartItems));\n  }\n}\n\n/* \n–í–∏–¥–∞–ª–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –∑ –∫–æ—Ä–∑–∏–Ω–∫–∏\n  –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:\n    –ù–µ–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤\n  –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è:\n    –ö–æ–ª–∏ –≤–∏ —Ö–æ—á–µ—Ç–µ –æ—á–∏—Å—Ç–∏—Ç–∏ –∫–æ—à–∏–∫, –≤–∏–∫–ª–∏–∫–∞—î—Ç–µ —Ü—é —Ñ—É–Ω–∫—Ü—ñ—é\n\n    removeAllProductsFromCart()\n==========================================================================*/\nexport function removeAllProductsFromCart() {\n  const cartItems = getCartItems();\n\n  // –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑ –∫–æ—à–∏–∫–∞\n  cartItems.products = [];\n  localStorage.setItem('shoppingCartItems', JSON.stringify(cartItems));\n}\n\n/* \n–û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ –≤ –∫–æ—à–∏–∫—É\n  –ü–∞—Ä–∞–º–µ—Ç—Ä–∏:\n    –ù–µ–º–∞—î –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤\n==========================================================================*/\nexport function getTotalProductCount() {\n  return getCartItems().products.length;\n}\n\n/* \n–í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–Ω–∞—á–µ–Ω–Ω—è –ø–æ–ª—è email –≤ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è \n  –ü–∞—Ä–∞–º–µ—Ç—Ä–∏: \n    email - Email –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞                       <‚Äî ( !!! –û–±–æ–≤—è–∑–∫–æ–≤–æ !!! ) \n==========================================================================*/\nexport function setEmailToOrderInfo(email) {\n  const order = getCartItems();\n\n  // –í–∏–¥–∞–ª–∏—Ç–∏ –≤—Å—ñ –ø—Ä–æ–¥—É–∫—Ç–∏ –∑ –∫–æ—à–∏–∫–∞\n  order.email = email;\n  localStorage.setItem('shoppingCartItems', JSON.stringify(order));\n}"],"names":["MAIN_URL","SECOND_URL","categories","popular","discount","references","page","limitPerPage","getProdByParams","axios","getProdByPopular","getProdByDiscount","getProdByIDWithParams","id","getProdByCategories","getProdByQuery","keyword","category","byABC","byPrice","byPopularity","query","shoppingSvg","shoppingCartItems","setDefaultFilterParams","filterParams","getFilterParams","setNewFilterParams","getCartItemsQuantity","getCartItems","cartNumber","addProductToCart","idProduct","amount","cartItems","updateProductInCart","product","removeProductFromCart","productIndex","removeAllProductsFromCart","setEmailToOrderInfo","email","order"],"mappings":"+uBAAA,MAAMA,EAAW,mDACXC,EAAa,sDACbC,EAAa,aACbC,EAAU,UACVC,EAAW,WAEFC,EAAA,CACb,SAAAL,EACA,WAAAC,EACA,WAAAC,EACA,QAAAC,EACA,SAAAC,CACF,ECTA,IAAIE,EAAO,EACPC,EAAe,EAEZ,eAAeC,GAAkB,CACtC,OAAI,OAAO,YAAc,KACvBD,EAAe,EACN,OAAO,YAAc,IAC9BA,EAAe,EAEfA,EAAe,EAEV,MAAME,EACX,GAAGJ,EAAW,iBAAiBC,WAAcC,GACjD,CACA,CAEO,eAAeG,GAAmB,CACvC,OAAO,MAAMD,EAAM,GAAGJ,EAAW,YAAYA,EAAW,iBAAiB,CAC3E,CAEO,eAAeM,GAAoB,CACxC,OAAO,MAAMF,EAAM,GAAGJ,EAAW,YAAYA,EAAW,UAAU,CACpE,CAKO,eAAeO,EAAsBC,EAAI,CAC9C,OAAO,MAAMJ,EAAM,GAAGJ,EAAW,YAAYQ,GAAI,CACnD,CAEO,eAAeC,GAAsB,CAC1C,OAAO,MAAML,EAAM,GAAGJ,EAAW,YAAYA,EAAW,YAAY,CACtE,CAEO,eAAeU,EAAe,CACnC,QAAAC,EAAU,KACV,SAAAC,EAAW,KACX,MAAAC,EAAQ,KACR,QAAAC,EAAU,KACV,aAAAC,EAAe,KACf,KAAAd,EAAO,EACP,aAAAC,EAAe,CACjB,EAAG,CACG,OAAO,YAAc,KACvBA,EAAe,EACN,OAAO,YAAc,MAC9BA,EAAe,GAGjB,IAAIc,EAAQ,mDACZ,OAAIL,IACFK,GAAS,WAAWL,MAElBC,IACFI,GAAS,YAAYJ,MAEnBC,IAAU,OACZG,GAAQ,SAASH,MAEfC,IAAY,OACdE,GAAS,WAAWF,MAElBC,IAAkB,OACpBC,GAAS,gBAAgBD,MAE3BC,GAAS,QAAQf,WAAcC,IAC/B,QAAQ,IAAIc,CAAK,EACV,MAAMZ,EAAMY,CAAK,CAC1B,CCxEA,MAAeC,EAAA,uDCAf,IAAIC,EAAoB,CACtB,MAAO,GACP,SAAU,CAAE,CACd,EAEO,SAASC,GAAyB,CACvC,MAAMC,EAAe,CACnB,QAAS,KACT,SAAU,KACV,MAAO,GACP,QAAS,KACT,aAAc,KACd,KAAM,EACN,MAAO,CACX,EACE,oBAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAY,CAAC,EAC1DC,EAAe,CACxB,CAEO,SAASC,EAAmBF,EAAc,CAC/C,aAAa,QAAQ,eAAgB,KAAK,UAAUA,CAAY,CAAC,CACnE,CAEK,KAAK,MAAM,aAAa,QAAQ,mBAAmB,CAAC,GACvD,aAAa,QAAQ,oBAAqB,KAAK,UAAUF,CAAiB,CAAC,EAGtE,SAASK,GAAuB,CACrC,OAAO,KAAK,MAAM,aAAa,QAAQ,mBAAmB,CAAC,EAAE,SAAS,MACxE,CAUO,SAASC,GAAe,CAC7B,OAAO,KAAK,MAAM,aAAa,QAAQ,mBAAmB,CAAC,CAC7D,CAEO,SAASH,GAAkB,CAChC,OAAO,KAAK,MAAM,aAAa,QAAQ,cAAc,CAAC,CACxD,CAEA,MAAMI,EAAa,SAAS,cAAc,cAAc,EACxDA,EAAW,mBAAmB,YAAaF,GAAsB,ECnC1D,SAASG,EAAiBC,EAAWC,EAAS,EAAG,CACtD,MAAMC,EAAYL,IAEbK,EAAU,SAAS,KAAK,CAAC,CAAE,GAAArB,CAAI,IAAKA,IAAOmB,CAAS,IACvDE,EAAU,SAAS,KAAK,CAAE,GAAMF,EAAW,OAAUC,CAAM,CAAE,EAC7D,aAAa,QAAQ,oBAAqB,KAAK,UAAUC,CAAS,CAAC,EAEvE,CAMO,SAASC,EAAoBH,EAAWC,EAAQ,CACrD,MAAMC,EAAYL,IAEZO,EAAUF,EAAU,SAAS,KAAK,CAAC,CAAE,GAAArB,CAAI,IAAKA,IAAOmB,CAAS,EAChEI,IACFA,EAAQ,OAASH,EACjB,aAAa,QAAQ,oBAAqB,KAAK,UAAUC,CAAS,CAAC,EAEvE,CAYO,SAASG,EAAsBL,EAAW,CAC/C,MAAME,EAAYL,IAGZS,EAAeJ,EAAU,SAAS,UAAU,CAAC,CAAE,GAAArB,CAAI,IAAKA,IAAOmB,CAAS,EAG1EM,IAAiB,KACnBJ,EAAU,SAAS,OAAOI,EAAc,CAAC,EACzC,aAAa,QAAQ,oBAAqB,KAAK,UAAUJ,CAAS,CAAC,EAEvE,CAWO,SAASK,GAA4B,CAC1C,MAAML,EAAYL,IAGlBK,EAAU,SAAW,GACrB,aAAa,QAAQ,oBAAqB,KAAK,UAAUA,CAAS,CAAC,CACrE,CAgBO,SAASM,EAAoBC,EAAO,CACzC,MAAMC,EAAQb,IAGda,EAAM,MAAQD,EACd,aAAa,QAAQ,oBAAqB,KAAK,UAAUC,CAAK,CAAC,CACjE"}