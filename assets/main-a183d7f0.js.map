{"version":3,"file":"main-a183d7f0.js","sources":["../../src/js/references.js","../../src/js/query.js","../../src/js/popular-product.js","../../src/js/discount.js","../../src/js/product-list.js","../../src/js/localStorage.js","../../src/js/filter.js","../../src/js/main.js"],"sourcesContent":["const MAIN_URL = 'https://food-boutique.b.goit.study/api/products/';\nconst categories = 'categories';\nconst popular = 'popular';\nconst discount = 'discount';\n\nexport default {\n  MAIN_URL,\n  categories,\n  popular,\n  discount,\n};\n","import axios from 'axios';\nimport references from './references';\n\n// AxiosQuery\nconst params = {};\n\nlet page = 1;\nlet limitPerPage = 6;\nlet Id = null;\n\nexport async function getProdByParams() {\n  if (window.innerWidth >= 1440) {\n    limitPerPage = 9;\n  } else if (window.innerWidth >= 768) {\n    limitPerPage = 8;\n  } else {\n    limitPerPage = 6;\n  }\n  return await axios(\n    `${references.MAIN_URL}?page=${page}&limit=${limitPerPage}`\n  );\n}\n\nexport async function getProdByPopular() {\n\n  return await axios(\n    `${references.MAIN_URL}/${references.popular}?limit=${limitPerPage}`\n  );\n\n}\n\nexport async function getProdByDiscount() {\n  return await axios(`${references.MAIN_URL}/${references.discount}`);\n}\n\nexport async function getProdByID() {\n  return await axios(`${references.MAIN_URL}/${Id}`);\n}\n\n\nexport async function getProdByCategories() {\n  return (await axios(`${references.MAIN_URL}/${references.categories}`));\n}\n\nexport async function getProdByQuery(keyword, category, page=1, limit=6) {\n  return (await axios(`${references.MAIN_URL}?keyword=${keyword}&category=${category}&page=${page}&limit=${limit}`));\n}\n\n","\n\nconst popularProduct = document.querySelector('.popular-product');\n\nexport function renderPopularProduct(data) {\n  popularProduct.insertAdjacentHTML('beforeend', markup(data));\n}\n\nfunction markup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, size, popularity }) => `\n          <li class=\"popular-product-item\" id=\"${_id}\">\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"popular-product-pic\" />\n            <div class=\"popular-product-info\">\n            <h3 class=\"popular-product-name\">${name}</h3>\n              <p class=\"info-item\">\n                <span class=\"info-title\"> Category: </span>\n                ${category.replace('_', ' ')}\n              </p>\n              <p class=\"info-item\">\n                <span class=\"info-title\"> Size: </span>\n                ${size}\n              </p>\n              <p class=\"info-item\">\n                <span class=\"info-title\"> Popularity: </span>\n                ${popularity}\n              </p>\n            </div>\n            <button type=\"button\" class=\"buy-btn\" onclick=\"addToCart('${_id}')\"><svg xmlns=\"http://www.w3.org/2000/svg\" width=\"10\" height=\"11\" viewBox=\"0 0 10 11\" fill=\"none\">\n            <path d=\"M0.799219 0.600098C0.640089 0.600098 0.487476 0.663312 0.374955 0.775834C0.262433 0.888355 0.199219 1.04097 0.199219 1.2001C0.199219 1.35923 0.262433 1.51184 0.374955 1.62436C0.487476 1.73688 0.640089 1.8001 0.799219 1.8001H1.53122L1.71422 2.5333C1.71604 2.54174 1.71804 2.55014 1.72022 2.5585L2.53502 5.8165L1.99922 6.3517C1.24322 7.1077 1.77842 8.4001 2.84762 8.4001H7.99922C8.15835 8.4001 8.31096 8.33688 8.42348 8.22436C8.536 8.11184 8.59922 7.95923 8.59922 7.8001C8.59922 7.64097 8.536 7.48835 8.42348 7.37583C8.31096 7.26331 8.15835 7.2001 7.99922 7.2001H2.84762L3.44762 6.6001H7.39922C7.51061 6.60004 7.6198 6.56897 7.71453 6.51037C7.80927 6.45176 7.88582 6.36794 7.93562 6.2683L9.73562 2.6683C9.78132 2.57684 9.80289 2.47523 9.79829 2.3731C9.79369 2.27097 9.76307 2.17171 9.70933 2.08473C9.6556 1.99776 9.58053 1.92596 9.49125 1.87614C9.40198 1.82633 9.30145 1.80015 9.19922 1.8001H2.76722L2.58122 1.0543C2.54872 0.92455 2.47379 0.809383 2.36834 0.727091C2.2629 0.644799 2.13298 0.600101 1.99922 0.600098H0.799219ZM8.59922 9.9001C8.59922 10.1388 8.5044 10.3677 8.33561 10.5365C8.16683 10.7053 7.93791 10.8001 7.69922 10.8001C7.46052 10.8001 7.2316 10.7053 7.06282 10.5365C6.89404 10.3677 6.79922 10.1388 6.79922 9.9001C6.79922 9.6614 6.89404 9.43248 7.06282 9.2637C7.2316 9.09492 7.46052 9.0001 7.69922 9.0001C7.93791 9.0001 8.16683 9.09492 8.33561 9.2637C8.5044 9.43248 8.59922 9.6614 8.59922 9.9001ZM2.89922 10.8001C3.13791 10.8001 3.36683 10.7053 3.53561 10.5365C3.7044 10.3677 3.79922 10.1388 3.79922 9.9001C3.79922 9.6614 3.7044 9.43248 3.53561 9.2637C3.36683 9.09492 3.13791 9.0001 2.89922 9.0001C2.66052 9.0001 2.4316 9.09492 2.26282 9.2637C2.09404 9.43248 1.99922 9.6614 1.99922 9.9001C1.99922 10.1388 2.09404 10.3677 2.26282 10.5365C2.4316 10.7053 2.66052 10.8001 2.89922 10.8001Z\" fill=\"#6D8434\"/>\n            </svg><button>\n          </li>\n      `\n    )\n    .join('');\n}\n\n// Зробити функцію глобальною\nwindow.addToCart = function(productId) {\n  const cart = JSON.parse(localStorage.getItem('cart')) || {};\n\n  if (cart[productId]) {\n    alert('This product is already in your cart!');\n  } else {\n    cart[productId] = true;\n    localStorage.setItem('cart', JSON.stringify(cart));\n    alert('Product added to cart!');\n\n    // Отримати кнопку за допомогою productId та змінити її на іконку \"✓\"\n    const addToCartButton = document.querySelector(`button[data-product-id=\"${productId}\"]`);\n    addToCartButton.innerHTML = '&#10003;';\n    addToCartButton.disabled = true;\n  }\n};","import axios from 'axios';\nimport references from './references';\nimport image from '../images/sprite.svg#icon-shopping-cart'\nimport { getProdByDiscount } from './query';\n\n\nconst productDiscount = document.querySelector('.discount-products-item')\n\nexport function renderProductDiscount(data) {\n    productDiscount.insertAdjacentHTML(\"beforeend\", markup(data));  \n}\n\n function markup(arr) {\n    return arr\n    .map(({_id, name, img, price }) => `\n        <li class=\"discount-product\">\n         <div class=\"discount-card\" id=\"${_id}\">\n          <svg class=\"discount-svg\" width=\"60\" height=\"60\">\n    <use href=\"./images/sprite.svg#icon-discount\"></use>\n            <img class=\"discount-img\"src=\"${img}\" alt=\"${name}\" loading=\"lazy\">\n            <div class=\"discount-text\">\n            <div class=\"discount-text-item\">\n                <h3 class=\"discount-name\">${name}</h3>\n                </div>\n                <div class=discount-price-item>\n                <p class=\"discount-price\">&#36;${price}</p>\n                <button class=\"discount-buy buy-btn\" type=\"button\">\n  <svg class=\"discount-buy-svg\" width=\"18\" height=\"18\">\n    <use href=\"./images/sprite.svg#icon-shopping-cart\"></use>\n  </svg>\n</button>\n</div> \n            </div>\n            </div>\n        </li>\n    `).join(\"\")\n}\n  \n            \n","import { getProdByParams } from './query';\n\nconst productList = document.querySelector('.product-list');\n\nexport function renderProductList(data) {\n  productList.insertAdjacentHTML('beforeend', createMarkup(data.results));\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, price, size, is10PercentOff, popularity }) =>\n        `\n        <div class=\"product-card\" id=\"${_id}\">\n         <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"product-pic\" />        \n         <h3 class=\"product-name header-three\">${name}</h3>\n         <div class=\"product-info regular-text\">\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Category: </span>\n            ${category.replace('_', ' ')}\n            </p>\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Size: </span>\n            ${size}\n            </p>\n            <p class=\"info-item\">\n            <span class=\"info-title\"> Popularity: </span>\n            ${popularity}\n            </p>\n          </div>\n          <div class=\"purchaise-box\">\n            <h3 class=\"product-price header-three\">&#36;${price}</h3>\n            <button type=\"button\" class=\"buy-btn\">Buy</button>\n          </div>\n        </div>\n      `\n    )\n    .join('');\n}\n\n// const heightOutput = document.querySelector('#height');\n// const widthOutput = document.querySelector('#width');\n// function reportWindowSize() {\n//   heightOutput.textContent = window.innerHeight;\n//   widthOutput.textContent = window.innerWidth;\n// }\n// window.onresize = reportWindowSize;\n\n// if (window.innerWidth >= 1440) {\n//   console.log(1440);\n//   limitPerPage = 9;\n// } else if (window.innerWidth >= 768) {\n//   console.log(768);\n//   limitPerPage = 8;\n// } else {\n//   console.log(375);\n//   limitPerPage = 6;\n// }\n","let shoppingCartItems = {\n  \"email\": \"\",\n  \"products\": [\n    {\n      \"productId\": \"\",\n      \"amount\": 1\n    }\n  ]\n}\n\nexport function setDefaultFilterParams(){\n  const filterParams = {\n    keyword: null,\n    category: null,\n    page: 1,\n    limit: 6,\n  };\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n  return getFilterParams();\n}\n\nexport function setNewFilterParams(filterParams){\n  localStorage.setItem('filterParams', JSON.stringify(filterParams));\n}\n\nif (!JSON.parse(localStorage.getItem('shoppingCartItems'))) {\n  localStorage.setItem('shoppingCartItems', JSON.stringify(shoppingCartItems));\n}\n\nexport function getCartItemsQuantity() {\n  return (JSON.parse(localStorage.getItem('shoppingCartItems')).length);\n}\n\nexport function getFilterParams(){\n  return JSON.parse(localStorage.getItem('filterParams'))\n} \n\n// some","import { getFilterParams } from './localStorage';\nimport { setDefaultFilterParams } from './localStorage';\nimport { setNewFilterParams } from './localStorage';\nimport { getProdByQuery } from './query';\nconst filterForm = document.querySelector('#filterForm');\nfilterForm.addEventListener('submit', onSubmit);\nconst filterSelectCategories = document.querySelector('#categories');\nconst optionSelect = document.querySelector('.js-option');\noptionSelect.addEventListener('change', onSubmit)\n\nlet filterParams = getFilterParams() ? getFilterParams()  : setDefaultFilterParams();\n\nexport function renderFilterSelect(data) {\n  filterSelectCategories.insertAdjacentHTML('afterbegin', markup(data));\n}\n\nfunction markup(arr) {\n  const selects = arr.map(\n    categorie => `\n    <option value=\"${categorie}\" class=\"js-option\">${categorie}</option>\n    `\n  );\n  selects.unshift('<option value=\"\" disabled selected>Categories</option>');\n  return selects.join('');\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const { filterInput, filterCategories, filterMethod } = event.target.elements;\n\n  proceedInput(filterInput);\n//   proceedSelectCategorie(filterCategories);\n}\n\nfunction proceedInput(filterInput) {\n    console.log(filterParams);\n  if (filterInput.value.trim()) {\n    filterParams.keyword = `${filterInput.value.trim()}`;\n    setNewFilterParams(filterParams);\n  } else {\n    // !!!!!!!!!!!!!!!!!!!!!!\n    setDefaultFilterParams();\n    // !!!!!!!!!!!!!!!!!!!!!!!\n  }\n}\n\nfunction proceedSelectCategorie(filterCategories) {\n  filterParams.category = `${filterCategories.value}`;\n  setNewFilterParams(filterParams);\n}\n\n// function onSelect(event) {\n\n//   console.log(event.target);\n// }\n","import { getProdByParams } from './query';\nimport { getProdByPopular } from './query';\nimport { getProdByDiscount } from './query';\nimport { getProdByID } from './query';\nimport { getProdByCategories } from './query';\nimport { renderPopularProduct } from './popular-product';\nimport { renderProductDiscount } from './discount';\nimport { renderProductList } from './product-list';\nimport { renderFilterSelect } from './filter';\n\ngetProdByDiscount()\n  .then(({ data }) => {\n    renderProductDiscount(data);\n  })\n  .catch(error => console.log(error));\n\ngetProdByParams()\n  .then(({ data }) => {\n    renderProductList(data);\n  })\n  .catch(error => console.log(error));\n\n  getProdByPopular()\n  .then(({ data }) => {\n    renderPopularProduct(data);\n  })\n  .catch(error => console.log(error));\n\n\ngetProdByCategories()\n  .then(({ data }) => {\n    renderFilterSelect(data);\n  })\n  .catch(error => console.log(error));\n"],"names":["MAIN_URL","categories","popular","discount","references","page","limitPerPage","getProdByParams","axios","getProdByPopular","getProdByDiscount","getProdByCategories","popularProduct","renderPopularProduct","data","markup","arr","_id","name","img","category","size","popularity","productId","cart","addToCartButton","productDiscount","renderProductDiscount","price","productList","renderProductList","createMarkup","is10PercentOff","shoppingCartItems","setDefaultFilterParams","filterParams","getFilterParams","setNewFilterParams","filterForm","onSubmit","filterSelectCategories","optionSelect","renderFilterSelect","selects","categorie","event","filterInput","filterCategories","filterMethod","proceedInput","error"],"mappings":"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"}