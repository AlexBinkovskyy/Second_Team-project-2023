import{a as u}from"./vendor-8aa786c2.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const p="https://food-boutique.b.goit.study/api/products",d="https://food-boutique.b.goit.study/api/subscription",g="categories",m="popular",y="discount",i={MAIN_URL:p,SECOND_URL:d,categories:g,popular:m,discount:y};let I=1,f=6;async function $(){return window.innerWidth>=768&&(f=8,window.innerWidth>=1440&&(f=9)),await u(`${i.MAIN_URL}?page=${I}&limit=${f}`)}async function C(){return await u(`${i.MAIN_URL}/${i.popular}?limit=5`)}async function w(){return await u(`${i.MAIN_URL}/${i.discount}`)}async function b(t){return await u(`${i.MAIN_URL}/${t}`)}async function L(t){return await u(`${i.MAIN_URL}/${t}`)}async function J(){return await u(`${i.MAIN_URL}/${i.categories}`)}async function A({keyword:t=null,category:r=null,byABC:o=null,byPrice:n=null,byPopularity:e=null,page:s=1,limitPerPage:c=6}){window.innerWidth>=1440?c=9:window.innerWidth>=768&&(c=8);let a="https://food-boutique.b.goit.study/api/products?";return t&&(a+=`keyword=${t}&`),r&&(a+=`category=${r}&`),o!==null&&(a+=`byABC=${o}&`),n!==null&&(a+=`byPrice=${n}&`),e!==null&&(a+=`byPopularity=${e}&`),a+=`page=${s}&limit=${c}`,console.log(a),await u(a)}const M="/Second_Team-project-2023/assets/sprite-67d7c706.svg";let h={email:"",products:[]};function _(){const t={keyword:null,category:null,byABC:!0,byPrice:null,byPopularity:null,page:1,limit:6};return localStorage.setItem("filterParams",JSON.stringify(t)),N()}function B(t){localStorage.setItem("filterParams",JSON.stringify(t))}JSON.parse(localStorage.getItem("shoppingCartItems"))||localStorage.setItem("shoppingCartItems",JSON.stringify(h));function S(){return JSON.parse(localStorage.getItem("shoppingCartItems")).products.length}function l(){return JSON.parse(localStorage.getItem("shoppingCartItems"))}function N(){return JSON.parse(localStorage.getItem("filterParams"))}const P=document.querySelector(".cart-number");P.insertAdjacentHTML("beforeend",S());function R(t,r=1){const o=l();o.products.find(({id:n})=>n===t)||(o.products.push({id:t,amount:r}),localStorage.setItem("shoppingCartItems",JSON.stringify(o)))}function U(t,r){const o=l(),n=o.products.find(({id:e})=>e===t);n&&(n.amount=r,localStorage.setItem("shoppingCartItems",JSON.stringify(o)))}function q(t){const r=l(),o=r.products.findIndex(({id:n})=>n===t);o!==-1&&(r.products.splice(o,1),localStorage.setItem("shoppingCartItems",JSON.stringify(r)))}function v(){const t=l();t.products=[],localStorage.setItem("shoppingCartItems",JSON.stringify(t))}function F(t){const r=l();r.email=t,localStorage.setItem("shoppingCartItems",JSON.stringify(r))}export{v as a,L as b,F as c,_ as d,$ as e,B as f,l as g,A as h,N as i,b as j,w as k,C as l,J as m,R as n,q as r,M as s,U as u};
//# sourceMappingURL=workWithCart-dbada4dc.js.map
