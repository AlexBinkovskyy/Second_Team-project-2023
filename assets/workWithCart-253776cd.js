import{a as l}from"./vendor-99d50140.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function o(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerpolicy&&(s.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?s.credentials="include":e.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(e){if(e.ep)return;e.ep=!0;const s=o(e);fetch(e.href,s)}})();const d="https://food-boutique.b.goit.study/api/products/",p="https://food-boutique.b.goit.study/api/subscription",g="categories",m="popular",y="discount",a={MAIN_URL:d,SECOND_URL:p,categories:g,popular:m,discount:y};let I=1,f=6;async function O(){return window.innerWidth>=1440?f=9:window.innerWidth>=768?f=8:f=6,await l(`${a.MAIN_URL}?page=${I}&limit=${f}`)}async function $(){return await l(`${a.MAIN_URL}/${a.popular}?limit=5`)}async function b(){return await l(`${a.MAIN_URL}/${a.discount}`)}async function w(t){return await l(`${a.MAIN_URL}/${t}`)}async function L(){return await l(`${a.MAIN_URL}/${a.categories}`)}async function J({keyword:t=null,category:r=null,byABC:o=null,byPrice:n=null,byPopularity:e=null,page:s=1,limitPerPage:c=6}){window.innerWidth>=1440?c=9:window.innerWidth>=768&&(c=8);let i="https://food-boutique.b.goit.study/api/products?";return t&&(i+=`keyword=${t}&`),r&&(i+=`category=${r}&`),o!==null&&(i+=`byABC=${o}&`),n!==null&&(i+=`byPrice=${n}&`),e!==null&&(i+=`byPopularity=${e}&`),i+=`page=${s}&limit=${c}`,console.log(i),await l(i)}const A="/Second_Team-project-2023/assets/sprite-67d7c706.svg";let h={email:"",products:[]};function M(){const t={keyword:null,category:null,byABC:!0,byPrice:null,byPopularity:null,page:1,limit:6};return localStorage.setItem("filterParams",JSON.stringify(t)),N()}function _(t){localStorage.setItem("filterParams",JSON.stringify(t))}JSON.parse(localStorage.getItem("shoppingCartItems"))||localStorage.setItem("shoppingCartItems",JSON.stringify(h));function S(){return JSON.parse(localStorage.getItem("shoppingCartItems")).products.length}function u(){return JSON.parse(localStorage.getItem("shoppingCartItems"))}function N(){return JSON.parse(localStorage.getItem("filterParams"))}const P=document.querySelector(".cart-number");P.insertAdjacentHTML("beforeend",S());function B(t,r=1){const o=u();o.products.find(({id:n})=>n===t)||(o.products.push({id:t,amount:r}),localStorage.setItem("shoppingCartItems",JSON.stringify(o)))}function R(t,r){const o=u(),n=o.products.find(({id:e})=>e===t);n&&(n.amount=r,localStorage.setItem("shoppingCartItems",JSON.stringify(o)))}function U(t){const r=u(),o=r.products.findIndex(({id:n})=>n===t);o!==-1&&(r.products.splice(o,1),localStorage.setItem("shoppingCartItems",JSON.stringify(r)))}function q(){const t=u();t.products=[],localStorage.setItem("shoppingCartItems",JSON.stringify(t))}function v(t){const r=u();r.email=t,localStorage.setItem("shoppingCartItems",JSON.stringify(r))}export{q as a,w as b,v as c,O as d,M as e,_ as f,u as g,J as h,N as i,b as j,$ as k,L as l,B as m,U as r,A as s,R as u};
//# sourceMappingURL=workWithCart-253776cd.js.map
