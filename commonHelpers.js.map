{"version":3,"file":"commonHelpers.js","sources":["../src/js/shopping-cart.js","../src/js/cartmodalwindow.js"],"sourcesContent":["import { getProdByIDWithParams } from './query';\nimport icons from '../images/sprite.svg';\n\nconst list = document.querySelector('.js-cart-list');\nconst arrCart = [\n  {\n    email: '',\n    products: [\n      {\n        id: '640c2dd963a319ea671e383b',\n        amount: 1,\n      },\n      {\n        id: '640c2dd963a319ea671e3864',\n        amount: 1,\n      },\n      // {\n      //   id: '640c2dd963a319ea671e37ad',\n      //   amount: 1,\n      // },\n    ],\n  },\n];\n\nspawnCardProducts(arrCart[0].products);\n\nfunction spawnCardProducts(products) {\n  generateCardListMarkup(products, createCartProductMarkup).then(result => {\n    list.insertAdjacentHTML('beforeend', result);\n  });\n}\n\n/*  Параметри:\n      1.productList - масив з продуктами      \n        [{\n          id: '640c2dd963a319ea671e383b',\n          amount: 1,\n        }]\n\n      2.createElementMarkupFunc - Функція, що створює потрібну вам розмітку елемента.\n\n    Повертає html розмітку продуктів\n===================================================================================== */\nasync function generateCardListMarkup(productList, createElementMarkupFunc) {\n  const products = await getCartProducts(productList);\n  return products\n    .map(product => {\n      return createElementMarkupFunc(product);\n    })\n    .join('');\n}\n\n/*  Параметри:\n      1.productList - масив з продуктами      \n        [{\n          id: '640c2dd963a319ea671e383b',\n          amount: 1,\n        }]\n\n    Повертає масив даних з продуктів\n===================================================================================== */\nasync function getCartProducts(productList) {\n  return await Promise.all(\n    productList.map(({ id }) =>\n      getProdByIDWithParams(id).then(rqst => rqst.data)\n    )\n  );\n}\n\n// створення карттки в кошику\nfunction createCartProductMarkup(product) {\n  const { _id, name, img, category, price, size } = product;\n  const cleanedCategory = category.replace(/_/g, ' ');\n\n  return `\n    <li class=\"selectedProduct\" data-id=${_id}>\n      <div class=\"product-picture\">\n          <img src=\"${img}\" alt=\"${name}\" class=\"\" loading=\"lazy\" />\n      </div>\n\n      <div class=\"product-info-container\">\n\n      <div class=\"info-header\">\n        <h2 class=\"product-name\">${name}</h2>\n        <button class=\"delete-btn\">\n          <svg class=\"\" width=\"20\" height=\"20\">\n            <use href=\"${icons}#icon-Cross_close\"></use>\n          </svg>\n        </button>\n      </div>\n\n      <div class=\"product-info\">\n        <p class=\"info-quality-category\"> Category: <span class=\"info-value\">${cleanedCategory}</span></p>\n        <p class=\"info-quality\"> Size:<span class=\"info-value\">${size}</span></p>\n      </div>\n        <div class=\"price\">$\n          <span>${price}</span>\n        </div>\n      </div>\n  </li>`;\n}\n","const form = document.querySelector('.cart-form');\nconst modalCloseBtn = document.querySelector('.js-modal-close');\nconst modal = document.querySelector('.cart-modal-bg');\n\nconsole.log(\"Modal js\");\n\nform.addEventListener('submit', modalOpen);\nmodalCloseBtn.addEventListener('click', modalClose);\n\nfunction modalOpen(e) {\n  e.preventDefault();\n  modal.classList.remove('hiden');\n}\nfunction modalClose() {\n  modal.classList.add('hiden');\n}\n\n"],"names":["list","arrCart","spawnCardProducts","products","generateCardListMarkup","createCartProductMarkup","result","productList","createElementMarkupFunc","getCartProducts","product","id","getProdByIDWithParams","rqst","_id","name","img","category","price","size","cleanedCategory","icons","form","modalCloseBtn","modal","modalOpen","modalClose","e"],"mappings":"2FAGA,MAAMA,EAAO,SAAS,cAAc,eAAe,EAC7CC,EAAU,CACd,CACE,MAAO,GACP,SAAU,CACR,CACE,GAAI,2BACJ,OAAQ,CACT,EACD,CACE,GAAI,2BACJ,OAAQ,CACT,CAKF,CACF,CACH,EAEAC,EAAkBD,EAAQ,GAAG,QAAQ,EAErC,SAASC,EAAkBC,EAAU,CACnCC,EAAuBD,EAAUE,CAAuB,EAAE,KAAKC,GAAU,CACvEN,EAAK,mBAAmB,YAAaM,CAAM,CAC/C,CAAG,CACH,CAaA,eAAeF,EAAuBG,EAAaC,EAAyB,CAE1E,OADiB,MAAMC,EAAgBF,CAAW,GAE/C,IAAIG,GACIF,EAAwBE,CAAO,CACvC,EACA,KAAK,EAAE,CACZ,CAWA,eAAeD,EAAgBF,EAAa,CAC1C,OAAO,MAAM,QAAQ,IACnBA,EAAY,IAAI,CAAC,CAAE,GAAAI,CAAI,IACrBC,EAAsBD,CAAE,EAAE,KAAKE,GAAQA,EAAK,IAAI,CACjD,CACL,CACA,CAGA,SAASR,EAAwBK,EAAS,CACxC,KAAM,CAAE,IAAAI,EAAK,KAAAC,EAAM,IAAAC,EAAK,SAAAC,EAAU,MAAAC,EAAO,KAAAC,CAAM,EAAGT,EAC5CU,EAAkBH,EAAS,QAAQ,KAAM,GAAG,EAElD,MAAO;AAAA,0CACiCH;AAAA;AAAA,sBAEpBE,WAAaD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAMAA;AAAA;AAAA;AAAA,yBAGVM;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,+EAMsDD;AAAA,iEACdD;AAAA;AAAA;AAAA,kBAG/CD;AAAA;AAAA;AAAA,QAIlB,CCpGA,MAAMI,EAAO,SAAS,cAAc,YAAY,EAC1CC,EAAgB,SAAS,cAAc,iBAAiB,EACxDC,EAAQ,SAAS,cAAc,gBAAgB,EAErD,QAAQ,IAAI,UAAU,EAEtBF,EAAK,iBAAiB,SAAUG,CAAS,EACzCF,EAAc,iBAAiB,QAASG,CAAU,EAElD,SAASD,EAAUE,EAAG,CACpBA,EAAE,eAAc,EAChBH,EAAM,UAAU,OAAO,OAAO,CAChC,CACA,SAASE,GAAa,CACpBF,EAAM,UAAU,IAAI,OAAO,CAC7B"}