{"version":3,"file":"commonHelpers2.js","sources":["../src/images/icons/discount.svg","../src/images/icons/check-ico.svg","../src/js/popular-product.js","../src/images/icons/shopping-cart.svg","../src/js/discount.js","../src/js/product-list-modal.js","../src/js/product-list.js","../src/js/filter.js","../src/js/main.js"],"sourcesContent":["export default \"__VITE_ASSET__2f15711f__\"","export default \"__VITE_ASSET__19ea2416__\"","import discountSvg from '../images/icons/discount.svg';\nimport shoppingSvg from '../images/sprite.svg';\nimport check from '../images/icons/check-ico.svg';\n\nconst popularProduct = document.querySelector('.popular-product-list');\n\nexport async function renderPopularProduct(data) {\n  popularProduct.insertAdjacentHTML('beforeend', markup(data));\n // const clickBtnBuy = document.querySelector('.click-buy');\n // clickBtnBuy.addEventListener('click', () => {\n //   (clickBtnBuy.style.display = 'none'), (clickcheck.style.display = 'block');\n // });\n // const clickcheck = document.querySelector('.popular-check');\n}\n\nfunction markup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, size, popularity }) => `\n          <li class=\"popular-product-item product-modal-open js-product-card\"  data-id=\"${_id}\" id=\"${_id}\">\n            <img src=\"${img}\" alt=\"${name}\" width=\"56\" height=\"56\" loading=\"lazy\" class=\"popular-product-pic\"/>\n            <div class=\"popular-product-info\">\n            <div class=\"popular-product-info-btn\">\n            <h3 class=\"popular-product-name\">${name}</h3>\n            <button type=\"button\" class=\"popular-buy buy-btn js-buy-btn\" >\n              <svg class=\"img-icon js-btn-first-ico\"  width=\"12\" height=\"12\">\n                <use href=\"${shoppingSvg}#icon-shopping-cart\"></use>\n              </svg>\n              <img class=\"popular-check-svg js-btn-second-ico\" src=\"${check}\" alt=\"shop-icon\" width=\"12\" height=\"12\"/>\n            </button>\n              </div>\n              <div class=\"info-item-description\">\n              <p class=\"info-item-title\">\n              <span class=\"info-title\"> Category: </span>\n              ${category.replace('_', ' ')}\n            </p>\n            <div class=\"popular-info\">\n            <p class=\"info-item info-size\">\n              <span class=\"info-title\"> Size: </span>\n              ${size}\n            </p>\n            <p class=\"info-item-pop\">\n              <span class=\"info-title\"> Popularity: </span>\n              ${popularity}\n            </p>\n            </div>\n            </div>\n            </div>\n          </li>\n      `\n    )\n    .join('');\n}\n\n// Змініть ваш код так, щоб він виглядав приблизно так\n// window.addToCart = function (productId) {\n//   const cart = JSON.parse(localStorage.getItem('cart')) || {};\n\n//   if (cart[productId]) {\n//     alert('This product is already in your cart!');\n//   } else {\n//     cart[productId] = true;\n//     localStorage.setItem('cart', JSON.stringify(cart));\n//     alert('Product added to cart!');\n\n//     // Отримайте кнопку за допомогою productId та змініть її на іконку \"✓\"\n//     const addToCartButton = document.querySelector(\n//       `[data-product-id=\"${productId}\"]`\n//     );\n//     addToCartButton.innerHTML =\n//       '<svg class=\"img-icon\" width=\"12\" height=\"12\"><use href=\"${shoppingSvg}#check-icon\"></use></svg>';\n//     addToCartButton.disabled = true;\n//   }\n// };\n","export default \"__VITE_ASSET__7ed87d9d__\"","import axios from 'axios';\nimport references from './references';\nimport { getProdByDiscount } from './query';\nimport discountSvg from '../images/icons/discount.svg';\nimport shoppingSvg from '../images/icons/shopping-cart.svg';\nimport check from '../images/icons/check-ico.svg';\n\nconst productDiscount = document.querySelector('.discount-products-item');\n\nexport function renderProductDiscount(data) {\n  productDiscount.insertAdjacentHTML('beforeend', markup(data));\n  // const clickBtns = document.querySelectorAll('.click-buy');\n  // const clickChecks = document.querySelectorAll('.discount-check');\n  // clickBtns.forEach((clickBtn) =>\n  //     clickBtn.addEventListener('click', () => { clickBtn.style.display = 'none'; onCheck(clickBtn) }));\n  // function onCheck() {\n  //     clickChecks.forEach((clickChecks) =>\n  //     clickChecks.style.display = 'block')\n  // }\n}\n\nfunction markup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, price }) => `\n        <li class=\"discount-product\">\n         <div class=\"discount-card product-modal-open js-product-card\"  data-id=\"${_id}\" id=\"${_id}\">\n         <img class=\"discount-svg\" src=\"${discountSvg}\" alt=\"discount-icon\" width=\"60\" height=\"60\"/>\n            <img id=\"icondiscount\" class=\"discount-img\"src=\"${img}\" alt=\"${name}\" loading=\"lazy\">\n            <div class=\"discount-text\">\n            <div class=\"discount-text-item\">\n                <h3 class=\"discount-name\">${name}</h3>\n                </div>\n                <div class=discount-price-item>\n                <p class=\"discount-price\">&#36;${price}</p>\n                <button class=\"discount-buy buy-btn click-buy js-buy-btn\" type=\"button\">\n                    <img class=\"discount-buy-svg js-btn-first-ico\" src=\"${shoppingSvg}\" alt=\"shop-icon\" width=\"18\" height=\"18\"/>\n                    <img class=\"discount-check-svg js-btn-second-ico\" src=\"${check}\" alt=\"shop-icon\" width=\"18\" height=\"18\"/>            \n                </button>\n        \n                </div> \n            </div>\n            </div>\n        </li>\n    `\n    )\n    .splice(0, 2)\n    .join('');\n}\n","import { getProdByID } from './query';\nimport shoppingSvg from '../images/icons/shopping-cart.svg';\nimport check from '../images/icons/check-ico.svg';\nimport { updateCartBtns } from './main';\n\nconst productModalContent = document.querySelector('.product-modal-content');\nconst body = document.querySelector('body');\n\nexport function showProductModal(element) {\n  const refs = {\n    openModalBtn: element,\n    closeModalBtn: document.querySelector('.product-modal-close'),\n    modal: document.querySelector('.product-backdrop'),\n  };\n\n  refs.openModalBtn.addEventListener('click', toggleModalOpen);\n\n  function toggleModalOpen(event) {\n    if (event.target.tagName !== 'BUTTON') {\n      body.style.overflow = 'hidden';\n      refs.modal.classList.remove('is-hidden');\n      logModal(event.currentTarget);\n      window.addEventListener('keydown', toggleModalClose);\n      refs.closeModalBtn.addEventListener('click', toggleModalClose);\n    }\n  }\n\n  function toggleModalClose(event) {\n    if (event.key === 'Escape' || event.currentTarget === refs.closeModalBtn) {\n      body.style.overflow = 'visible';\n      productModalContent.innerHTML = `\n      <div class=\"product-modal-content\">Loading...</div>\n      `;\n      refs.modal.classList.add('is-hidden');\n      window.removeEventListener('keydown', toggleModalClose);\n      refs.closeModalBtn.removeEventListener('click', toggleModalClose);\n    }\n  }\n}\n\nfunction logModal(obj) {\n  getProdByID(obj.id)\n    .then(({ data }) => {\n      const productModalContent = document.querySelector(\n        '.product-modal-content'\n      );\n      productModalContent.innerHTML = renderProductModal(data);\n      updateCartBtns();\n    })\n    .catch(error => console.log(error));\n}\n\nfunction renderProductModal(object) {\n  return `\n  <div class=\"modal-card-content  js-product-card\" id=\"${\n    object._id\n  }\" data-id=\"${object._id}\">\n    <div class=\"modal-card-pic-info\">\n      <img\n        src=\"${object.img}\"\n        alt=\"${object.name}\"\n        loading=\"lazy\"\n        class=\"all-product-pic\"\n      />\n      <div>\n        <h3 class=\"all-product-name header-three\">${object.name}</h3>\n        <div class=\"all-product-info regular-text\">\n          <p class=\"all-info-item\">\n            <span class=\"all-info-title\"> Category: </span>\n            ${object.category.replaceAll('_', ' ')}\n          </p>\n          <p class=\"all-info-item\">\n            <span class=\"all-info-title\"> Size: </span>\n            ${object.size}\n          </p>\n          <p class=\"all-info-item\">\n            <span class=\"all-info-title\"> Popularity: </span>\n            ${object.popularity}\n            </div>\n        </p>\n        <p class=\"all-product-desc\">\n        ${object.desc}\n        </p>\n      </div>\n    </div>\n      <div class=\"all-purchaise-box\">\n        <h3 class=\"all-product-price header-three\">&#36;${object.price}</h3>\n        <button class=\"modal-product-btn buy-btn js-buy-btn\" type=\"button\">\n          <p class=\"modal-product-btn-text\">Add to</p>\n          <img\n                class=\"all-buy-svg js-btn-first-ico\"\n            src=\"${shoppingSvg}\"\n            alt=\"shop-icon\"\n          />\n              <img\n                class=\"all-buy-svg js-btn-second-ico\"\n                src=\"${check}\"\n                alt=\"shop-icon\"\n                width=\"18\"\n                height=\"18\"\n              />\n            </button>\n      </div>\n    </div>\n  `;\n}\n","import discountSvg from '../images/icons/discount.svg';\nimport shoppingSvg from '../images/icons/shopping-cart.svg';\nimport { getProdByParams } from './query';\nimport { filterForm } from './filter';\nimport { setDefaultFilterParams } from './localStorage';\nimport { checkFilterParams } from './filter';\nimport { showProductModal } from './product-list-modal.js';\nimport check from '../images/icons/check-ico.svg';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport Pagination from 'tui-pagination';\nimport { getProdByQuery } from './query';\nimport { updateCartBtns } from './main';\n\nconst container = document.getElementById('tui-pagination-container');\nconst instance = new Pagination(container, {});\n\nconst productList = document.querySelector('.product-list');\nconst tuiPagination = document.querySelector('.pagination');\n\n\nexport function renderProductList( {results, perPage, totalPages}) {\n  tuiPagination.classList.remove('visually-hidden');\n\n  productList.innerHTML = createMarkup(results);\n\n  const productModalOpen = document.querySelectorAll('.product-modal-open');\n  productModalOpen.forEach(element => {\n    element.addEventListener('click', showProductModal(element));\n  });\n\n  const container = document.getElementById('tui-pagination-container');\n  const instance = new Pagination(container, {\n    totalItems: perPage * totalPages,\n    itemsPerPage: perPage,\n    visiblePages: 5,\n    centerAlign: true,\n    template: {\n      page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n      currentPage:\n        '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n\n      moveButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</a>',\n      disabledMoveButton:\n        '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n        '</span>',\n      moreButton:\n        '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n        '</a>',\n    },\n  });\n\n  instance.on('beforeMove', async event => {\n    const newPage = event.page;\n    try {\n      const { data: newData } = await getProdByQuery({\n        page: newPage,\n        limitPerPage: perPage,\n      });\n      renderProductList(newData);\n      updateCartBtns();\n    } catch (err) {\n      console.log(err);\n    }\n  });\n}\n\nfunction createMarkup(arr) {\n  return arr\n    .map(\n      ({ _id, name, img, category, price, size, is10PercentOff, popularity }) =>\n        `\n        <li class=\"all-product-card product-modal-open js-product-card\" id=\"${_id}\" data-id=${_id}>\n          <div>\n            <img\n              class=\"all-discount-svg ${is10PercentOff\n                .toString()\n                .replace('false', 'visually-hidden')\n                .replace('true', '')}\"\n              src=\"${discountSvg}\"\n              alt=\"discount-icon\"\n              width=\"60\"\n              height=\"60\"\n            />\n            <img src=\"${img}\" alt=\"${name}\" loading=\"lazy\" class=\"all-product-pic\" />\n            <h3 class=\"all-product-name header-three\">${name}</h3>\n            <div class=\"all-product-info regular-text\">\n              <p class=\"all-info-item\">\n                <span class=\"all-info-title\"> Category: </span>\n                ${category.replaceAll('_', ' ')}\n              </p>\n              <p class=\"all-info-item\">\n                <span class=\"all-info-title\"> Size: </span>\n                ${size}\n              </p>\n              <p class=\"all-info-item\">\n                <span class=\"all-info-title\"> Popularity: </span>\n                ${popularity}\n              </p>\n            </div>\n          </div>\n          <div class=\"all-purchaise-box\">\n            <h3 class=\"all-product-price header-three\">&#36;${price}</h3>\n            <button class=\"all-product-btn buy-btn js-buy-btn\" type=\"button\">\n              <img\n                class=\"all-buy-svg js-btn-first-ico\"\n                src=\"${shoppingSvg}\"\n                alt=\"shop-icon\"\n                width=\"18\"\n                height=\"18\"\n              />\n\n              <img\n                class=\"all-buy-svg js-btn-second-ico\"\n                src=\"${check}\"\n                alt=\"shop-icon\"\n                width=\"18\"\n                height=\"18\"\n              />\n\n            </button>\n          </div>\n        </li>\n        `\n    )\n    .join('');\n}\n\nfunction onClick(event) {\n  event.preventDefault();\n  getProdByParams()\n    .then(({ data }) => {\n      renderProductList(data);\n    })\n    .catch(error => console.log(error));\n  filterForm.reset();\n  setDefaultFilterParams();\n  checkFilterParams();\n}\n\nexport function createEmptyMarkup() {\n  const emptyQuery = `\n  <div class=\"product-search-error\">\n  <h3 class=\"product-search-title header-three\">Nothing was found for the selected <a href=\"\" class=\"product-search-link link js-link\">filters...</a></h3>\n  <p class=\"product-search-text\">Try adjusting your search parameters or browse our range by other criteria to find the perfect product for you. </p>\n  </div>\n  `;\n  productList.innerHTML = emptyQuery;\n  const emptySetLink = document.querySelector('.js-link');\n  emptySetLink.addEventListener('click', onClick);\n  tuiPagination.classList.add('visually-hidden');\n}\n","import { getFilterParams } from './localStorage';\nimport { setDefaultFilterParams } from './localStorage';\nimport { setNewFilterParams } from './localStorage';\nimport { getProdByQuery } from './query';\nimport { getProdByParams } from './query';\nimport { renderProductList } from './product-list';\nimport { createEmptyMarkup } from './product-list';\nimport { updateCartBtns } from './main';\n\nexport const filterForm = document.querySelector('#filterForm');\nfilterForm.addEventListener('submit', onSubmit);\nconst filterSelectCategories = document.querySelector('#single');\nfilterForm.elements.filterCategories.addEventListener('change', proceedSelect);\nfilterForm.elements.filterMethod.addEventListener('change', proceedFilter);\n\nlet filterParams;\n\nexport function checkFilterParams() {\n  if (!getFilterParams()) {\n    setDefaultFilterParams();\n    filterParams = getFilterParams();\n  } else {\n    filterParams = getFilterParams();\n    if (filterParams.keyword !== null) {\n      filterForm.filterInput.value = filterParams.keyword;\n    }\n  }\n}\n\ncheckFilterParams();\n\ngetProdByQuery(getFilterParams()).then(({ data }) => {\n  if (data.results.length) {\n    renderProductList(data);\n    updateCartBtns();\n  } else if (!Array.isArray(data.results) || !data.results.length) {\n    createEmptyMarkup();\n    return;\n  }\n});\n\nexport function renderFilterSelect(data) {\n  filterSelectCategories.innerHTML = markup(data);\n  if (filterParams.category !== null) {\n    const opt = filterForm.filterCategories.options;\n    for (const option of opt) {\n      if (\n        option.value.replaceAll(' ', '_').replaceAll('&', '%26') ===\n        filterParams.category\n      ) {\n        option.selected = true;\n        break;\n      }\n    }\n  }\n}\n\nfunction markup(arr) {\n  const selects = arr.map(\n    categorie => `\n    <option value=\"${categorie}\" class=\"js-option\">${categorie}</option>\n    `\n  );\n  selects.unshift(\n    '<option value=\"\" class=\"js-option\" disabled selected>Categories</option>'\n  );\n  selects.push('<option value=\"Show all\" class=\"js-option\">Show all</option>');\n  return selects.join('');\n}\n\nfunction onSubmit(event) {\n  event.preventDefault();\n  const { filterInput, filterCategories } = event.target.elements;\n  proceedInput(filterInput, filterCategories);\n}\n\nfunction proceedInput(filterInput, filterCategories) {\n  if (!filterInput.value.trim().length) {\n    setDefaultFilterParams();\n    checkFilterParams();\n    getProdByParams()\n      .then(({ data }) => {\n        renderProductList(data);\n      })\n      .catch(error => console.log(error));\n    filterForm.reset();\n  } else if (filterInput.value.trim()) {\n    filterParams.keyword = filterInput.value.trim();\n    if (filterCategories.value !== '') {\n      filterParams.category = filterCategories.value\n        .replaceAll(' ', '_')\n        .replaceAll('&', '%26');\n    }\n    setNewFilterParams(filterParams);\n    getProdByQuery(getFilterParams())\n      .then(resp => {\n        console.log(resp);\n        if (resp.data.results.length) {\n          renderProductList(resp.data);\n        } else if (\n          !Array.isArray(resp.data.results) ||\n          !resp.data.results.length\n        ) {\n          createEmptyMarkup();\n          return;\n        }\n      })\n      .catch(err => console.log(err));\n  } else if (filterCategories.value) {\n    filterParams.category = filterCategories.value.trim();\n    setNewFilterParams(filterParams);\n    getProdByQuery(getFilterParams())\n      .then(resp => {\n        if (resp.data.results.length) {\n          renderProductList(resp.data);\n        } else {\n          return;\n        }\n      })\n      .catch(err => console.log(err));\n  }\n}\n\nfunction proceedSelect(event) {\n  event.preventDefault();\n  if (event.target.value === 'Show all') {\n    setDefaultFilterParams();\n    filterForm.reset();\n    getProdByParams()\n      .then(({ data }) => {\n        renderProductList(data);\n      })\n      .catch(error => console.log(error));\n    filterForm.reset();\n  }\n  filterParams.category = event.target.value\n    .replaceAll(' ', '_')\n    .replaceAll('&', '%26');\n  setNewFilterParams(filterParams);\n  getProdByQuery(getFilterParams())\n    .then(resp => {\n      if (resp.data.results.length) {\n        renderProductList(resp.data);\n      } else if (\n        !Array.isArray(resp.data.results) ||\n        !resp.data.results.length\n      ) {\n        createEmptyMarkup();\n        return;\n      }\n    })\n    .catch(err => console.log(err));\n}\n\nfunction proceedFilter(event) {\n  event.preventDefault();\n  if (event.target.value === 'Show_all') {\n    setDefaultFilterParams();\n    checkFilterParams();\n    getProdByParams()\n      .then(({ data }) => {\n        renderProductList(data);\n      })\n      .catch(error => console.log(error));\n    filterForm.reset();\n  }\n  if (event.target.value === 'A_to_Z' || event.target.value === 'Z_to_A') {\n    event.target.value === 'A_to_Z'\n      ? (filterParams.byABC = true)\n      : (filterParams.byABC = false);\n    filterParams.byPrice = null;\n    filterParams.byPopularity = null;\n    setNewFilterParams(filterParams);\n    getProdByQuery(getFilterParams())\n      .then(resp => {\n        if (resp.data.results.length) {\n          renderProductList(resp.data);\n        } else {\n          createEmptyMarkup();\n          return;\n        }\n      })\n      .catch(err => console.log(err));\n    return;\n  } else if (\n    event.target.value === 'Cheap' ||\n    event.target.value === 'Expensive'\n  ) {\n    event.target.value === 'Cheap'\n      ? (filterParams.byPrice = true)\n      : (filterParams.byPrice = false);\n    filterParams.byABC = null;\n    filterParams.byPopularity = null;\n    setNewFilterParams(filterParams);\n    getProdByQuery(getFilterParams())\n      .then(resp => {\n        if (resp.data.results.length) {\n          renderProductList(resp.data);\n        } else {\n          createEmptyMarkup();\n          return;\n        }\n      })\n      .catch(err => console.log(err));\n    return;\n  } else if (\n    event.target.value === 'Popular' ||\n    event.target.value === 'Not_popular'\n  ) {\n    event.target.value === 'Not_popular'\n      ? (filterParams.byPopularity = true)\n      : (filterParams.byPopularity = false);\n    filterParams.byABC = null;\n    filterParams.byPrice = null;\n    setNewFilterParams(filterParams);\n    getProdByQuery(getFilterParams())\n      .then(resp => {\n        if (resp.data.results.length) {\n          renderProductList(resp.data);\n        } else {\n          createEmptyMarkup();\n          return;\n        }\n      })\n      .catch(err => console.log(err));\n    return;\n  } else if (event.target.value === 'Show_all') {\n    setDefaultFilterParams();\n    return;\n  }\n}\n","import { getProdByPopular } from './query';\nimport { getProdByDiscount } from './query';\nimport { getProdByCategories } from './query';\nimport { renderPopularProduct } from './popular-product';\nimport { renderProductDiscount } from './discount';\nimport { renderFilterSelect } from './filter';\nimport { getCartItems } from './localStorage.js';\nimport { addProductToCart, setEmailToOrderInfo } from './workWithCart.js';\nimport 'tui-pagination/dist/tui-pagination.css';\n\ngetProdByDiscount()\n  .then(({ data }) => {\n    renderProductDiscount(data);\n    updateCartBtns();\n  })\n  .catch(error => console.log(error));\n\ngetProdByPopular()\n  .then(({ data }) => {\n    renderPopularProduct(data);\n    updateCartBtns();\n  })\n  .catch(error => console.log(error));\n\ngetProdByCategories()\n  .then(({ data }) => {\n    renderFilterSelect(data.toString().replaceAll('_', ' ').split(','));\n    updateCartBtns();\n  })\n  .catch(error => console.log(error));\n\n// showModalMessage();\n\n/**\n    |============================\n    | Loader starts\n    |============================\n  */\n\nconst loaderContainer = document.getElementById('loader-container');\nconst main = document.querySelector('.main');\nconst body = document.body;\n\n// window.addEventListener('load', function () {\n//   const loadingScreen = document.querySelector('.loader-container');\n\n//   // Array of asynchronous functions\n//   const asyncFunctions = [\n//     getProdByDiscount,\n//     getProdByParams,\n//     getProdByPopular,\n//     getProdByCategories,\n//   ];\n\n//   // Show loading screen\n//   main.classList.add('visually-hidden');\n//   body.classList.add('no-scroll');\n//   loadingScreen.classList.remove('visually-hidden');\n\n//   // Execute all asynchronous functions\n//   Promise.all(asyncFunctions.map(fn => fn()))\n//     .then(() => {\n//       // All asynchronous functions completed\n//       main.classList.remove('visually-hidden');\n//       loadingScreen.classList.add('visually-hidden'); // Hide loading screen\n//       body.classList.remove('no-scroll');\n//     })\n//     .catch(error => {\n//       console.error('Error in asynchronous operation:', error);\n//       loadingScreen.classList.add('visually-hidden'); // Hide loading screen even in case of an error\n//       body.classList.remove('no-scroll');\n//     });\n// });\n\n//export function hideLoader() {\n//body.classList.remove('no-scroll');\n//loaderContainer.classList.add('visually-hidden');\n//}\n\n/**\n    |============================\n    | Loader ends\n    |============================\n  */\n\n// const productCard = document.querySelector('js-product-card');\n// const buyBtn = document.querySelector('js-buy-btn');\nconst mainContainer = document.querySelector('.js-main-container');\nconst mainModalContainer = document.querySelector('.product-modal-window');\n\n// loadBuyBtnsState();\n\n// function loadBuyBtnsState() {\n//   console.log(1);\n//   const ls = getCartItems();\n//   console.log(ls);\n// }\n\nmainContainer.addEventListener('click', addCart);\nmainModalContainer.addEventListener('click', addCart);\n\nfunction addCart(e) {\n  // console.log(\"Click\");\n  if (e.target.classList.contains('js-buy-btn')) {\n    let parent = e.target.closest('.js-product-card');\n    // console.log(\"click buy\", parent.dataset.id);\n    addProductToCart(parent.dataset.id);\n    // addedToCartProduct(parent.dataset.id);\n    updateCartBtns();\n    document.querySelector('.js-cart-numbers').textContent =\n      getCartItems().products.length;\n  }\n}\n\nfunction addedToCartProduct(id) {\n  const allProductsById = document.querySelectorAll(\n    `.js-product-card[data-id=\"${id}\"]`\n  );\n  const iconName = '';\n\n  if (!allProductsById.length) {\n    return;\n  }\n\n  // console.log(allProductsById);\n  allProductsById.forEach(obj => {\n    const btn = obj.querySelector('.js-buy-btn');\n    btn.style.backgroundColor = '#6D8434';\n    btn.style.cursor = 'default';\n    btn.querySelector('.js-btn-first-ico').style.display = 'none';\n    btn.querySelector('.js-btn-second-ico').style.display = 'block';\n    // btn.innerHTML = `<svg class=\"img-icon\" width=\"12\" height=\"12\" style=\"stroke:\"#fff\"\"><use href=\"${shoppingSvg}#${iconName}\"></use></svg>`;\n    btn.disabled = true;\n    // console.log(btn);\n  });\n}\n\nexport function updateCartBtns() {\n  getCartItems().products.forEach(product => {\n    // console.log(product.id);\n    addedToCartProduct(product.id);\n  });\n}\n"],"names":["discountSvg","check","popularProduct","renderPopularProduct","data","markup","arr","_id","name","img","category","size","popularity","shoppingSvg","productDiscount","renderProductDiscount","price","productModalContent","body","showProductModal","element","refs","toggleModalOpen","event","logModal","toggleModalClose","obj","getProdByID","renderProductModal","updateCartBtns","error","object","container","Pagination","productList","tuiPagination","renderProductList","results","perPage","totalPages","createMarkup","newPage","newData","getProdByQuery","err","is10PercentOff","onClick","getProdByParams","filterForm","setDefaultFilterParams","checkFilterParams","createEmptyMarkup","emptyQuery","onSubmit","filterSelectCategories","proceedSelect","proceedFilter","filterParams","getFilterParams","renderFilterSelect","opt","option","selects","categorie","filterInput","filterCategories","proceedInput","setNewFilterParams","resp","getProdByDiscount","getProdByPopular","getProdByCategories","mainContainer","mainModalContainer","addCart","e","parent","addProductToCart","getCartItems","addedToCartProduct","id","allProductsById","btn","product"],"mappings":"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"}